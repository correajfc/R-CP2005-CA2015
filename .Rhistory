ggplot(prmtr_urbn_idesc.wgs.df) +
aes(long,lat,group=group,fill="none") +
geom_polygon() +
geom_path(color="white") +
coord_equal() +
espacio_publico_idesc
ggplot(prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group)) +
geom_polygon() +
geom_path(color="white") +
coord_equal() +
espacio_publico_idesc
ggplot(prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group)) +
geom_polygon() +
geom_path(color="white") +
coord_equal()
ggplot(prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group), fill="none") +
geom_polygon() +
geom_path(color="red") +
coord_equal()
ggplot(prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group), fill="none") +
geom_path(color="red") +
coord_equal()
OSMap+
geom_path(prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group), fill="none",color="red") +
coord_equal()
OSMap+
geom_path(data=prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group), fill="none",color="red") +
coord_equal()
map <- openmap(c(3.505871+0.001,-76.59076-0.001),
c(3.331819-0.001,-76.46125+0.001), zoom = NULL,
type = c("osm", "stamen-toner", "stamen-terrain","stamen-watercolor", "esri","esri-topo")[6],
mergeTiles = TRUE)
map.latlon <- openproj(map, projection = "+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs")
OSMap <- autoplot(map.latlon)
OSMap+
geom_path(data=prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group), fill="none",color="red") +
coord_equal()
map <- openmap(c(3.505871+0.01,-76.59076-0.01),
c(3.331819-0.01,-76.46125+0.01), zoom = NULL,
type = c("osm", "stamen-toner", "stamen-terrain","stamen-watercolor", "esri","esri-topo")[6],
mergeTiles = TRUE)
map.latlon <- openproj(map, projection = "+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs")
OSMap <- autoplot(map.latlon)
OSMap+
geom_path(data=prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group), fill="none",color="red") +
coord_equal()
OSMap+
geom_path(data=prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group), fill="none",color="red") +
coord_equal() +
labs(title ="Santiago de Cali", x = "Long", y="Lat")
OSMap+
geom_path(data=prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group), fill="none",color="red") +
coord_equal() +
labs(title ="Santiago de Cali", x = "Long", y="Lat",caption="Fuentes: OSM e IDESC")
OSMap+
geom_path(data=prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group), fill="none",color="red") +
coord_equal() +
labs(title ="Santiago de Cali", x = "Long", y="Lat",caption="Fuentes: OSM e IDESC\nElaboración Propia")
OSMap+
geom_path(data=prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group), fill="none",color="red") +
coord_equal() +
ggsn::scalebar(map, dist = 5, dd2km = TRUE, model = 'WGS84')+
labs(title ="Santiago de Cali", x = "Long", y="Lat",caption="Fuentes: OSM e IDESC\nElaboración Propia")
OSMap+
geom_path(data=prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group), fill="none",color="red") +
coord_equal() +
ggsn::scalebar(prmtr_urbn_idesc.wgs, dist = 5, dd2km = TRUE, model = 'WGS84')+
labs(title ="Santiago de Cali", x = "Long", y="Lat",caption="Fuentes: OSM e IDESC\nElaboración Propia")
OSMap+
geom_path(data=prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group), fill="none",color="red") +
coord_equal() +
ggsn::scalebar(prmtr_urbn_idesc.wgs.df, dist = 5, dd2km = TRUE, model = 'WGS84')+
labs(title ="Santiago de Cali", x = "Long", y="Lat",caption="Fuentes: OSM e IDESC\nElaboración Propia")
OSMap+
geom_path(data=prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group), fill="none",color="red") +
coord_equal() +
ggsn::scalebar(prmtr_urbn_idesc.wgs.df, dist = 1, dd2km = TRUE, model = 'WGS84')+
labs(title ="Santiago de Cali", x = "Long", y="Lat",caption="Fuentes: OSM e IDESC\nElaboración Propia")
OSMap+
geom_path(data=prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group), fill="none",color="red") +
coord_equal() +
ggsn::scalebar(prmtr_urbn_idesc.wgs.df, dist = 2, dd2km = TRUE, model = 'WGS84')+
labs(title ="Santiago de Cali", x = "Long", y="Lat",caption="Fuentes: OSM e IDESC\nElaboración Propia")
OSMap+
geom_path(data=prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group), fill="none",color="red") +
coord_equal() +
ggsn::scalebar(prmtr_urbn_idesc.wgs.df, dist = 2, dd2km = TRUE, model = 'WGS84',st.size = 8)+
labs(title ="Santiago de Cali", x = "Long", y="Lat",caption="Fuentes: OSM e IDESC\nElaboración Propia")
OSMap+
geom_path(data=prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group), fill="none",color="red") +
coord_equal() +
ggsn::scalebar(prmtr_urbn_idesc.wgs.df, dist = 2, dd2km = TRUE, model = 'WGS84',st.size = 5)+
labs(title ="Santiago de Cali", x = "Long", y="Lat",caption="Fuentes: OSM e IDESC\nElaboración Propia")
OSMap+
geom_path(data=prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group), fill="none",color="red") +
coord_equal() +
ggsn::scalebar(prmtr_urbn_idesc.wgs.df, dist = 2, dd2km = TRUE, model = 'WGS84',st.size = 4)+
labs(title ="Santiago de Cali", x = "Long", y="Lat",caption="Fuentes: OSM e IDESC\nElaboración Propia")
OSMap+
geom_path(data=prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group), fill="none",color="red") +
coord_equal() +
ggsn::scalebar(prmtr_urbn_idesc.wgs.df, dist = 2, dd2km = TRUE, model = 'WGS84',st.size = 4)+
labs(title ="Santiago de Cali", x = "Long", y="Lat",caption="Datos en grados decimales, sistema de coordenas WGS\nFuentes: OSM e IDESC\nElaboración Propia")
OSMap+
geom_path(data=prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group), fill="none",color="red") +
coord_equal() +
guide_colorbar("Perimetro")+
ggsn::scalebar(prmtr_urbn_idesc.wgs.df, dist = 2, dd2km = TRUE, model = 'WGS84',st.size = 4)+
labs(title ="Santiago de Cali", x = "Long", y="Lat",caption="Datos en grados decimales, sistema de coordenas WGS83\nFuentes: OSM e IDESC\nElaboración Propia")
OSMap+
geom_path(data=prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group), fill="none",color="red") +
coord_equal() +
# guide_colorbar("Perimetro")+
ggsn::scalebar(prmtr_urbn_idesc.wgs.df, dist = 2, dd2km = TRUE, model = 'WGS84',st.size = 4)+
labs(title ="Santiago de Cali", x = "Long", y="Lat",caption="Datos en grados decimales, sistema de coordenas WGS83\nFuentes: OSM e IDESC\nElaboración Propia")
```{r mapa-area,fig.cap="Área de estudio. Perímetro de Santiango de Cali", fig.height=8,out.width="100%"}
OSMap+
geom_path(data=prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group), fill="none",color="red") +
coord_equal() +
# guide_colorbar("Perimetro")+
ggsn::scalebar(prmtr_urbn_idesc.wgs.df, dist = 2, dd2km = TRUE, model = 'WGS84',st.size = 4)+
labs(title ="Santiago de Cali", x = "Long", y="Lat",caption="Datos en grados decimales, sistema de coordenas WGS83\nFuentes: OSM e IDESC\nElaboración Propia")
bookdown::render_book('index.Rmd', 'bookdown::gitbook')
OSMap+
geom_path(data=prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group), fill="none",color="red") +
coord_equal() +
scale_color_manual("Perimetro")+
ggsn::scalebar(prmtr_urbn_idesc.wgs.df, dist = 2, dd2km = TRUE, model = 'WGS84',st.size = 4)+
labs(title ="Santiago de Cali", x = "Long", y="Lat",caption="Datos en grados decimales, sistema de coordenas WGS83\nFuentes: OSM e IDESC\nElaboración Propia")
```{r mapa-area,fig.cap="Área de estudio. Perímetro de Santiango de Cali", fig.height=7,out.width="90%"}
OSMap+
geom_path(data=prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group), fill="none",color="red") +
coord_equal() +
scale_color_manual("Perimetro")+
ggsn::scalebar(prmtr_urbn_idesc.wgs.df, dist = 2, dd2km = TRUE, model = 'WGS84',st.size = 4)+
labs(title ="Santiago de Cali", x = "Long", y="Lat",caption="Datos en grados decimales, sistema de coordenas WGS83\nFuentes: OSM e IDESC\nElaboración Propia")
OSMap+
geom_path(data=prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group,color="Perímetro"), fill="none") +
coord_equal() +
scale_color_manual("Perimetro", values = "red")+
ggsn::scalebar(prmtr_urbn_idesc.wgs.df, dist = 2, dd2km = TRUE, model = 'WGS84',st.size = 4)+
labs(title ="Santiago de Cali", x = "Long", y="Lat",caption="Datos en grados decimales, sistema de coordenas WGS83\nFuentes: OSM e IDESC\nElaboración Propia")
OSMap+
geom_path(data=prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group,color="Perímetro"), fill="none") +
coord_equal() +
scale_color_manual("Perimetro", values = "red")+
theme(legend.position = c(0.9, 0.35))+
ggsn::scalebar(prmtr_urbn_idesc.wgs.df, dist = 2, dd2km = TRUE, model = 'WGS84',st.size = 4)+
labs(title ="Santiago de Cali", x = "Long", y="Lat",caption="Datos en grados decimales, sistema de coordenas WGS83\nFuentes: OSM e IDESC\nElaboración Propia")
OSMap+
geom_path(data=prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group,color="Perímetro"), fill="none") +
coord_equal() +
scale_color_manual("Perimetro", values = "red")+
theme(legend.position = c(0.9, 0.5))+
ggsn::scalebar(prmtr_urbn_idesc.wgs.df, dist = 2, dd2km = TRUE, model = 'WGS84',st.size = 4)+
labs(title ="Santiago de Cali", x = "Long", y="Lat",caption="Datos en grados decimales, sistema de coordenas WGS83\nFuentes: OSM e IDESC\nElaboración Propia")
OSMap+
geom_path(data=prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group,color="Perímetro"), fill="none") +
coord_equal() +
scale_color_manual("Perimetro", values = "red")+
theme(legend.position = c(0.9, 0.25))+
ggsn::scalebar(prmtr_urbn_idesc.wgs.df, dist = 2, dd2km = TRUE, model = 'WGS84',st.size = 4)+
labs(title ="Santiago de Cali", x = "Long", y="Lat",caption="Datos en grados decimales, sistema de coordenas WGS83\nFuentes: OSM e IDESC\nElaboración Propia")
bookdown::render_book('index.Rmd', 'bookdown::gitbook')
OSMap+
geom_path(data=prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group,color="Perímetro"), fill="none") +
coord_equal() +
scale_color_manual("Perimetro", values = "red")+
theme(legend.position = c(0.9, 0.25))+
ggsn::north(prmtr_urbn_idesc.wgs.df, symbol = 16, scale = 0.15) +
ggsn::scalebar(prmtr_urbn_idesc.wgs.df, dist = 2, dd2km = TRUE, model = 'WGS84',st.size = 4)+
labs(title ="Santiago de Cali", x = "Long", y="Lat",caption="Datos en grados decimales, sistema de coordenas WGS83\nFuentes: OSM e IDESC\nElaboración Propia")
OSMap+
geom_path(data=prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group,color="Perímetro"), fill="none") +
coord_equal() +
scale_color_manual("Perimetro", values = "red")+
theme(legend.position = c(0.9, 0.25))+
ggsn::north(prmtr_urbn_idesc.wgs.df, symbol = 9, scale = 0.15) +
ggsn::scalebar(prmtr_urbn_idesc.wgs.df, dist = 2, dd2km = TRUE, model = 'WGS84',st.size = 4)+
labs(title ="Santiago de Cali", x = "Long", y="Lat",caption="Datos en grados decimales, sistema de coordenas WGS83\nFuentes: OSM e IDESC\nElaboración Propia")
OSMap+
geom_path(data=prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group,color="Perímetro"), fill="none") +
coord_equal() +
scale_color_manual("Perimetro", values = "red")+
theme(legend.position = c(0.9, 0.25))+
ggsn::north(prmtr_urbn_idesc.wgs.df, symbol = 5, scale = 0.15) +
ggsn::scalebar(prmtr_urbn_idesc.wgs.df, dist = 2, dd2km = TRUE, model = 'WGS84',st.size = 4)+
labs(title ="Santiago de Cali", x = "Long", y="Lat",caption="Datos en grados decimales, sistema de coordenas WGS83\nFuentes: OSM e IDESC\nElaboración Propia")
OSMap+
geom_path(data=prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group,color="Perímetro"), fill="none") +
coord_equal() +
scale_color_manual("Perimetro", values = "red")+
theme(legend.position = c(0.9, 0.25))+
ggsn::north2(ggp, x = 0.1, y = 0.9, scale = 0.1, symbol = 5)+
ggsn::scalebar(prmtr_urbn_idesc.wgs.df, dist = 2, dd2km = TRUE, model = 'WGS84',st.size = 4)+
labs(title ="Santiago de Cali", x = "Long", y="Lat",caption="Datos en grados decimales, sistema de coordenas WGS83\nFuentes: OSM e IDESC\nElaboración Propia")
OSMap+
geom_path(data=prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group,color="Perímetro"), fill="none") +
coord_equal() +
scale_color_manual("Perimetro", values = "red")+
theme(legend.position = c(0.9, 0.25))+
ggsn::north2(prmtr_urbn_idesc.wgs.df, x = 0.1, y = 0.9, scale = 0.1, symbol = 5)+
ggsn::scalebar(prmtr_urbn_idesc.wgs.df, dist = 2, dd2km = TRUE, model = 'WGS84',st.size = 4)+
labs(title ="Santiago de Cali", x = "Long", y="Lat",caption="Datos en grados decimales, sistema de coordenas WGS83\nFuentes: OSM e IDESC\nElaboración Propia")
OSMap+
geom_path(data=prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group,color="Perímetro"), fill="none") +
coord_equal() +
scale_color_manual("Perimetro", values = "red")+
theme(legend.position = c(0.9, 0.25))+
ggsn::north2( x = 0.1, y = 0.9, scale = 0.1, symbol = 5)+
ggsn::scalebar(prmtr_urbn_idesc.wgs.df, dist = 2, dd2km = TRUE, model = 'WGS84',st.size = 4)+
labs(title ="Santiago de Cali", x = "Long", y="Lat",caption="Datos en grados decimales, sistema de coordenas WGS83\nFuentes: OSM e IDESC\nElaboración Propia")
OSMap+
geom_path(data=prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group,color="Perímetro"), fill="none") +
coord_equal() +
scale_color_manual("Perimetro", values = "red")+
theme(legend.position = c(0.9, 0.25))+
ggsn::north2(OSMap, x = 0.1, y = 0.9, scale = 0.1, symbol = 5)+
ggsn::scalebar(prmtr_urbn_idesc.wgs.df, dist = 2, dd2km = TRUE, model = 'WGS84',st.size = 4)+
labs(title ="Santiago de Cali", x = "Long", y="Lat",caption="Datos en grados decimales, sistema de coordenas WGS83\nFuentes: OSM e IDESC\nElaboración Propia")
OSMap+
geom_path(data=prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group,color="Perímetro"), fill="none") +
coord_equal() +
scale_color_manual("Perimetro", values = "red")+
theme(legend.position = c(0.9, 0.25))+
ggsn::scalebar(prmtr_urbn_idesc.wgs.df, dist = 2, dd2km = TRUE, model = 'WGS84',st.size = 4)+
labs(title ="Santiago de Cali", x = "Long", y="Lat",caption="Datos en grados decimales, sistema de coordenas WGS83\nFuentes: OSM e IDESC\nElaboración Propia")
ggsn::north2(OSMap, x = 0.1, y = 0.9, scale = 0.1, symbol = 5)
OSMap+
geom_path(data=prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group,color="Perímetro"), fill="none") +
coord_equal() +
scale_color_manual("Perimetro", values = "red")+
theme(legend.position = c(0.9, 0.25))+
ggsn::scalebar(prmtr_urbn_idesc.wgs.df, dist = 2, dd2km = TRUE, model = 'WGS84',st.size = 4)+
labs(title ="Santiago de Cali", x = "Long", y="Lat",caption="Datos en grados decimales, sistema de coordenas WGS83\nFuentes: OSM e IDESC\nElaboración Propia")
#ggsn::north2(OSMap, x = 0.1, y = 0.9, scale = 0.1, symbol = 5)
OSMap+
geom_path(data=prmtr_urbn_idesc.wgs.df,
aes(long,lat,group=group,color="Perímetro"), fill="none") +
coord_equal() +
scale_color_manual("Perimetro", values = "red")+
theme(legend.position = c(0.9, 0.25))+
ggsn::north(prmtr_urbn_idesc.wgs.df, symbol = 5, scale = 0.15, location = "topleft") +
ggsn::scalebar(prmtr_urbn_idesc.wgs.df, dist = 2, dd2km = TRUE, model = 'WGS84',st.size = 4)+
labs(title ="Santiago de Cali", x = "Long", y="Lat",caption="Datos en grados decimales, sistema de coordenas WGS83\nFuentes: OSM e IDESC\nElaboración Propia")
bookdown::render_book('index.Rmd', 'bookdown::gitbook')
knitr::include_graphics("images/flujograma.png")
bookdown::render_book('index.Rmd', 'bookdown::gitbook')
#librerias
library(rgdal)
library(rgeos)
library(raster)
library(sp)
library(spdep)
library(car)
library(tidyverse)
library(magrittr)
library(stringr)
library(purrr)
library(reshape2)
library(broom)
library(viridis)
library(RColorBrewer)
library(gridExtra)
library(wesanderson)
library(knitr)
library(bookdown)
library(GGally)
library(ggrepel)
library(grid)
library(ggfortify)
library(olsrr)
library(kableExtra)
load("bck1.RData")
# Scrip principal para la la ejecución de los .R
#librerias
library(rgdal)
library(rgeos)
library(raster)
library(sp)
library(spdep)
library(car)
library(tidyverse)
library(magrittr)
library(stringr)
library(purrr)
library(reshape2)
library(broom)
library(viridis)
library(RColorBrewer)
library(gridExtra)
library(wesanderson)
library(knitr)
library(bookdown)
library(GGally)
library(ggrepel)
library(grid)
library(ggfortify)
library(olsrr)
library(kableExtra)
library(lmtest)
library(glue)
source("funciones.R")
load("bck1.RData")
# cargar datos Censo Arboreo 2015 ----
CAutf8 <- read_delim("./CA2015/CAutf8.csv",
";", escape_double = FALSE, trim_ws = TRUE)
# indagar las categorias ----
summary(CAutf8)
summary(CAutf8$id)
CAutf8$id %>%
as.character() %>%
trimws() %>%
unique() %>%
as.factor()
summary(CAutf8$familia)
CAutf8$familia %>%
as.character() %>%
trimws() %>%
unique() %>%
as.factor()
summary(CAutf8$vitalidad)
CAutf8$vitalidad %>%
as.character() %>%
trimws() %>%
unique() %>%
as.factor()
summary(CAutf8$emplazamiento)
CAutf8$emplazamiento %>%
as.character() %>%
trimws() %>%
unique() %>%
as.factor()
summary(CAutf8$edad)
CAutf8$edad %>%
as.character() %>%
trimws() %>%
unique() %>%
as.factor()
summary(CAutf8$cobertura)
CAutf8$cobertura %>%
as.character() %>%
trimws() %>%
unique() %>%
as.factor()
summary(CAutf8$vegetacion)
CAutf8$vegetacion %>%
as.character() %>%
trimws() %>%
unique() %>%
as.factor()
summary(CAutf8$familia %>%
as.factor()) %>% barplot()
summary(CAutf8$vitalidad %>%
as.factor()) %>% barplot()
summary(CAutf8$emplazamiento %>%
as.factor()) %>% barplot()
summary(CAutf8$edad%>%
as.factor()) %>% barplot()
summary(CAutf8$cobertura%>%
as.factor()) %>% barplot()
summary(CAutf8$vegetacion%>%
as.factor()) %>% barplot()
# Estandarizacion de nombres y conversion a factores ----
#familias
CAutf8$familia<-gsub("Piperáceae" ,"Piperaceae",CAutf8$familia)
CAutf8$familia %>% trimws()%>% as.factor() ->CAutf8$familia
summary(CAutf8$familia) %>% barplot()
summary(CAutf8$familia)%>%sort(decreasing = T) %>% barplot()
summary(CAutf8$familia)%>%sort(decreasing = T) %>%  .[1:10] %>%barplot()
#nombre cientifico
CAutf8$nombre_cienticico<-gsub("Annona cherimolla" ,"Annona cherimola" ,CAutf8$nombre_cienticico)
CAutf8$nombre_cienticico<-as.factor(CAutf8$nombre_cienticico)
CAutf8$nombre_cienticico<-gsub("Artocarpus integrifolius" ,"Artocarpus integrifolia" ,CAutf8$nombre_cienticico)
CAutf8$nombre_cienticico<-as.factor(CAutf8$nombre_cienticico)
CAutf8$nombre_cienticico<-gsub("Attalea butyraceae" ,"Attalea butyracea" ,CAutf8$nombre_cienticico)
CAutf8$nombre_cienticico<-as.factor(CAutf8$nombre_cienticico)
CAutf8$nombre_cienticico<-as.factor(gsub("Calliandra hematosephala" ,"Calliandra haematocephala" ,CAutf8$nombre_cienticico))
CAutf8$nombre_cienticico<-as.factor(gsub("Calliandra tweedii" ,"Calliandra tweediei" ,CAutf8$nombre_cienticico))
CAutf8$nombre_cienticico<-as.factor(gsub("Citrus lemon" ,"Citrus limon" ,CAutf8$nombre_cienticico))
CAutf8$nombre_cienticico<-as.factor(gsub("Erythroxylon coca" ,"Erythroxylum coca" ,CAutf8$nombre_cienticico))
CAutf8$nombre_cienticico<-as.factor(gsub("Eucalyptus globulus" ,"Eucalyptus globulus" ,CAutf8$nombre_cienticico))#caso raro, parece identicos
CAutf8$nombre_cienticico<-as.factor(gsub("Guaicum officinale" ,"Guaiacum officinale" ,CAutf8$nombre_cienticico))
CAutf8$nombre_cienticico<-as.factor(gsub("Guaiacum officinarum" ,"Guaiacum officinale" ,CAutf8$nombre_cienticico))
CAutf8$nombre_cienticico<-gsub("Miconia chlorocarpa" ,"Miconia chlorocarpa" ,CAutf8$nombre_cienticico)#caso raro, parece identicos
CAutf8$nombre_cienticico<-as.factor(CAutf8$nombre_cienticico)
CAutf8$nombre_cienticico<-as.factor(gsub("Miconia Spicellata" ,"Miconia spicellata" ,CAutf8$nombre_cienticico))
CAutf8$nombre_cienticico<-as.factor(gsub("Pereskia bledo" ,"Pereskia bleo" ,CAutf8$nombre_cienticico))
CAutf8$nombre_cienticico<-as.factor(gsub("Phoenix robellina" ,"Phoenix roebelenii" ,CAutf8$nombre_cienticico))
CAutf8$nombre_cienticico<-as.factor(gsub("Platysmicium pinnatum","Platymiscium pinnatum" ,CAutf8$nombre_cienticico))
CAutf8$nombre_cienticico<-as.factor(gsub("Terminalia amazonica","Terminalia amazonia" ,CAutf8$nombre_cienticico))
CAutf8$nombre_cienticico %>% as.character() %>% trimws()%>% as.factor() ->CAutf8$nombre_cienticico
summary(CAutf8$nombre_cienticico)%>%sort(decreasing = T) %>% barplot()
summary(CAutf8$nombre_cienticico)%>%sort(decreasing = T) %>%  .[1:10] %>%barplot()
#barrios
CAutf8$Nombrebarrio<-as.factor(gsub("Alfonso Bonilla Aragon", "Alfonso Bonilla Aragón" ,CAutf8$Nombrebarrio))
CAutf8$Nombrebarrio<-as.factor(gsub("Rep·blica de Israel", "República de Israel",CAutf8$Nombrebarrio))
CAutf8$Nombrebarrio<-as.factor(gsub("Sector Alto Jordan", "Sector Alto Jordán",CAutf8$Nombrebarrio))
CAutf8$Nombrebarrio<-as.factor(gsub("Sector Altos de Normandia - Bataclan", "Sector Altos de Normandia - Bataclán",CAutf8$Nombrebarrio))
summary(CAutf8$Nombrebarrio) %>% barplot()
CAutf8$Nombrebarrio %>% as.character() %>% trimws()%>% as.factor() ->CAutf8$Nombrebarrio
summary(CAutf8$Nombrebarrio) %>% barplot()
summary(CAutf8$Nombrebarrio)%>%sort(decreasing = T) %>% barplot()
summary(CAutf8$Nombrebarrio)%>%sort(decreasing = T) %>%  .[1:10] %>%barplot()
#emplazamiento
CAutf8$emplazamiento<-as.factor(gsub("Rondas de rios", "Ronda de rios",CAutf8$emplazamiento))
CAutf8$emplazamiento<-as.factor(gsub("Escenario depor/cult", "Escenario deportivo y/o Cultural",CAutf8$emplazamiento))
CAutf8$emplazamiento<-as.factor(gsub("Bahia de estacionami", "Bahias de estacionamiento",CAutf8$emplazamiento))
CAutf8$emplazamiento %>% as.character() %>% trimws()%>% as.factor() ->CAutf8$emplazamiento
summary(CAutf8$emplazamiento)%>%sort(decreasing = T) %>% barplot()
summary(CAutf8$emplazamiento)%>%sort(decreasing = T) %>%  .[1:4] %>%barplot()
#vitalidad
CAutf8$vitalidad %>% as.character() %>% trimws()%>% as.factor() ->CAutf8$vitalidad
CAutf8$vitalidad<-factor(CAutf8$vitalidad,levels(CAutf8$vitalidad)[c(2,3,4,1)])
summary(CAutf8$vitalidad) %>% barplot()
#edad
CAutf8$edad %>% as.character() %>% trimws()%>% as.factor() ->CAutf8$edad
CAutf8$edad <- factor(CAutf8$edad,levels(CAutf8$edad)[c(1,3,2)])
summary(CAutf8$edad) %>% barplot()
#cobertura
CAutf8$cobertura %>% as.character() %>% trimws()%>% as.factor() ->CAutf8$cobertura
summary(CAutf8$cobertura) %>% barplot()
#vegetacion
CAutf8$vegetacion %>% as.character() %>% trimws()%>% as.factor() ->CAutf8$vegetacion
summary(CAutf8$vegetacion) %>%
barplot()
#id
#buscar duliplicados ----
CAutf8 %>%
group_by(id) %>%
filter(n()>1) #%>% View()
#eliminar duliplicados
CAutf8<-CAutf8 %>%
distinct(id,.keep_all=TRUE)
total_arboles_censo <- CAutf8 %>% nrow()
rm(CAutf8)
bookdown::render_book('index.Rmd', 'bookdown::gitbook')
mt<-moran.test(lm.mod.area_copa$model$log.area_copa.mxn, listw=W_queen)
names(mt$p.value)<-"p-value"
mt
mt<-moran.test(lm.mod.area_copa$model$log.area_copa.mxn, listw=W_queen)
mt
names(mt$p.value)
mt$p.value
c(mt$estimate,mt$statistic,mt$p.value)
mt<-moran.test(lm.mod.area_copa$model$log.area_copa.mxn, listw=W_queen)
names(mt$p.value)<-"p-value"
c(mt$estimate,mt$statistic,mt$p.value)
names(mt$estimate)
names(mt$statistic)
mt
save.image(file = "bck1.RData")
mt<-moran.test(lm.mod.area_copa$model$log.area_copa.mxn, listw=W_queen)
names(mt$p.value)<-"p-valor"
names(mt$estimate) <- c("Estadístico Moran I","Expectativa","Varianza")
knitr::kable(c(mt$estimate,mt$statistic,mt$p.value), col.names = " ", digits=5, caption = "Test de Moran - Área de copa $W_q$" , booktabs = TRUE)
names(mt$statistic)
mt<-moran.test(lm.mod.area_copa$model$log.area_copa.mxn, listw=W_queen)
names(mt$p.value)<-"p-valor"
names(mt$estimate) <- c("Estadístico Moran I","Expectativa","Varianza")
names(mt$statistic) <- "Desviación estándar de Moran I"
knitr::kable(c(mt$estimate,mt$statistic,mt$p.value), col.names = " ", digits=5, caption = "Test de Moran - Área de copa $W_q$" , booktabs = TRUE)
mt<-moran.test(lm.mod.area_copa$model$log.area_copa.mxn, listw=W_dist1000.inv, zero.policy = TRUE)
names(mt$p.value)<-"p-valor"
names(mt$estimate) <- c("Estadístico Moran I","Expectativa","Varianza")
names(mt$statistic) <- "Desviación estándar de Moran I"
knitr::kable(c(mt$estimate,mt$statistic,mt$p.value), col.names = " ", digits=5, caption = "Test de Moran - Área de copa $W_d$" , booktabs = TRUE)
bookdown::render_book('index.Rmd', 'bookdown::gitbook')
moran.test(lm.mod.area_copa$model$log.area_copa.mxn, listw=W_dist1000.inv, zero.policy = TRUE)
lm.mod.area_copa
lm.mod.area_copa$fitted.values
lm.mod.area_copa$model
lm.best.area_copa
bookdown::render_book('index.Rmd', 'bookdown::gitbook')
